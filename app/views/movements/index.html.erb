<div class="panel panel-default">
  <div class="panel-heading">
    <%= link_to 'New', { action: :new }, class: 'btn btn-success' %>
    <%= @period.to_s if period? %>

    <% unless @summary.regular_and_paid_count.zero? %>
      <span class="label label-success pull-right">
        <%= pluralize(@summary.regular_and_paid_count, "item") %><br>
        <%= number_to_currency @summary.regular_and_paid_value %>
      </span>
    <% end %>

    <% unless @summary.card_count.zero? %>
      <span class="label label-info pull-right">
        <%= pluralize(@summary.card_count, "item") %><br>
        <%= number_to_currency @summary.card_value %>
      </span>
    <% end %>

    <% unless @summary.regular_and_unpaid_count.zero? %>
      <span class="label label-warning pull-right">
        <%= pluralize(@summary.regular_and_unpaid_count, "item") %><br>
        <%= number_to_currency @summary.regular_and_unpaid_value %>
      </span>
    <% end %>

    <div class="col-lg-4 pull-right">
      <%= form_for :search, method: :get do |f| %>
        <div class="input-group">
          <%= text_field_tag :q, params[:q], class: 'form-control', autofocus: true %>
          <span class="input-group-btn">
            <%= f.button :Search, class: 'btn btn-default' %>
          </span>
        </div>
      <% end %>
    </div>
  </div>

  <% if period? %>
    <div class="panel-body">
      <%= link_to 'Previous Month', { action: :index, year: @period.previous.year, month: @period.previous.month}, class: 'btn btn-success btn-sm' %>
      <%= link_to 'Next Month', { action: :index, year: @period.next.year, month: @period.next.month}, class: 'btn btn-success btn-sm pull-right' %>
    </div>
  <% end %>

  <table class="table table-inbox table-hover">
    <thead>
      <%= render 'header' %>
    </thead>

    <tbody>
      <%= render @movements %>
    </tbody>
  </table>
</div>
